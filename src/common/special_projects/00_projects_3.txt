#Derelict Ship
special_project = {
	key = "DERELICT_SHIP_PROJECT"
	#cost = 0
	days_to_research = 20
	tech_department = society_technology #DOES NOTHING OTHER THAN SHOWING AN ICON
	timelimit = -1
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 2
	}

	on_success = {
		random_list = {
			20 = {
				ship_event = { id = anomaly.4012 }
				modifier = {
					factor = 0
					exists = owner
					owner = {
						count_playable_country = {
							count = 0
							limit = {
								is_country_type = default
								NOT = { has_established_contact = prev }
								NOT = { is_same_value = prev }
							}
						}
					}
				}
			}
			50 = { ship_event = { id = anomaly.4011 } }
			30 = { ship_event = { id = anomaly_failure.4011 } }
		}
	}
}

#AI Admiral
special_project = {
	key = "AI_ADMIRAL_PROJECT"
	#cost = 0
	days_to_research = 30
	tech_department = society_technology
	timelimit = 1080
	picture = GFX_evt_sapient_AI
	icon = "gfx/interface/icons/situation_log/situation_log_ai.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 2
	}

	on_success = {
		ship_event = { id = anomaly.4031 }
	}
	on_fail = {
		country_event = { id = anomaly_failure.4031 }
	}
}

#special_project = {
#	key = "TESTING_PROJECT"
#	#cost = 0
#	days_to_research = 10
#	tech_department = society_technology
#	timelimit = -1
#	picture = GFX_evt_ship_in_orbit
#
#	event_scope = ship_event
#
#	requirements = {
#		shipclass_science_ship = 1
#		leader = scientist
#		#skill = 2
#	}
#
#	on_success = {
#		FROM = {
#			fromfrom = { planet_event = { id = anomaly.4032 } }
#		}
#	}
#}

# Odd Star
special_project = {
	key = "ODD_STAR_PROJECT"
	#cost = 0
	days_to_research = 60
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_star_yellow
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 2
	}

	on_success = {
		ship_event = { id = anomaly.4038 }
	}
}

#Improbable Teapot
special_project = {
	key = "IMPROBABLE_TEAPOT_PROJECT"
	#cost = 0
	days_to_research = 720
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_star_yellow
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 2
	}

	on_success = {
		if = {
			limit = {
				owner = {
					NOR = {
						has_ethic = ethic_fanatic_spiritualist
						has_ethic = ethic_spiritualist
					}
				}
			}
			random_list = {
				60 = { ship_event = { id = anomaly.4061 } }
				40 = { ship_event = { id = anomaly.4062 } }
			}
		}
		if = {
			limit = {
				owner = {
					OR = {
						has_ethic = ethic_fanatic_spiritualist
						has_ethic = ethic_spiritualist
					}
				}
			}
			random_list = {
				20 = { ship_event = { id = anomaly.4061 } }
				80 = { ship_event = { id = anomaly.4062 } }
			}
		}
	}
}

# Mining Gear
special_project = {
	key = "MINING_GEAR_PROJECT"
	#cost = 0
	days_to_research = 60
	tech_department = engineering_technology
	timelimit = 1080
	picture = GFX_evt_mining_station
	icon = "gfx/interface/icons/situation_log/situation_log_engineering.dds"

	event_scope = ship_event

	requirements = {
		shipclass_constructor = 1
	}

	on_success = {
		ship_event = { id = anomaly.4066 }
	}
	on_fail = {
		country_event = { id = anomaly_failure.4066 }
	}
}

# Abandoned Array
special_project = {
	key = "ABANDONED_ARRAY_PROJECT"
	#cost = 0
	days_to_research = 90
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_star_chart
	icon = "gfx/interface/icons/situation_log/situation_log_radar.dds"

	event_scope = ship_event

	requirements = {
		#shipclass_constructor = 1
		shipclass_science_ship = 1
	}

	on_success = {
		random_list = {
			80 = { ship_event = { id = anomaly.4081 } }
			20 = { ship_event = { id = anomaly_failure.4081 } }
		}
	}
}

# Alien Speed Ship
special_project = {
	key = "ALIEN_RACER_PROJECT"
	#cost = 0
	days_to_research = 45
	tech_department = engineering_technology
	timelimit = 1080
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_engineering.dds"

	event_scope = ship_event

	requirements = {
		shipclass_constructor = 1
	}

	on_success = {
		random_list = {
			60 = { ship_event = { id = anomaly.4086 } }
			#40 = { ship_event = { id = anomaly.4087 } }
		}
	}
	on_fail = {
		country_event = { id = anomaly_failure.4086 }
	}
}

# Psionic Horses
special_project = {
	key = "PSIONIC_HORSES_PROJECT"
	#cost = 0
	days_to_research = 30
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_alien_nature
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 2
	}

	on_success = {
		if = {
			limit = {
				from = {
					owner = {
						OR = {
							has_ethic = "ethic_fanatic_xenophobe"
							has_ethic = "ethic_fanatic_militarist"
							has_ethic = "ethic_fanatic_egalitarian"
							has_ethic = "ethic_xenophobe"
							has_ethic = "ethic_militarist"
						}
					}
				}
			}
			ship_event = { id = anomaly.4101 }
		}
		if = {
			limit = {
				from = {
					owner = {
						NOR = {
							has_ethic = "ethic_fanatic_xenophobe"
							has_ethic = "ethic_fanatic_militarist"
							has_ethic = "ethic_fanatic_egalitarian"
							has_ethic = "ethic_xenophobe"
							has_ethic = "ethic_militarist"
						}
					}
				}
			}
			ship_event = { id = anomaly.4102 }
		}
	}
}

# Giant Roombas
special_project = {
	key = "ROBOT_CLEANERS_PROJECT"
	#cost = 0
	days_to_research = 90
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_robot_assembly_plant
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
	}

	on_success = {
		ship_event = { id = anomaly.4106 }
	}
}

# Monsters on a Ship
special_project = {
	key = "ALIEN_MONSTER_ON_SHIP"
	#cost = 0
	days_to_research = 7
	tech_department = society_technology
	timelimit = 1080
	picture = GFX_evt_ship_under_attack
	icon = "gfx/interface/icons/situation_log/situation_log_extradimensional.dds"

	event_scope = ship_event

	requirements = {
		shipclass_military = 2
		#leader = commander
		##skill = 2
	}

	on_success = {
		random_list = {
			70 = { ship_event = { id = anomaly.4116 } }
			30 = { ship_event = { id = anomaly.4117 } }
		}
	}
	on_fail = {
		country_event = { id = anomaly_failure.4116 }
	}
}

# Tree of Life
special_project = {
	key = "TREE_OF_LIFE"
	#cost = 0
	days_to_research = 60
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_physics_research
	icon = "gfx/interface/icons/situation_log/situation_log_extradimensional.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 3
	}

	on_success = {
		ship_event = { id = anomaly.4131 }
	}
}

# Master's Writings - Politics
special_project = {
	key = "MASTERS_WRITINGS_POLITICS"
	cost = 1200
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_star_chart
	icon = "gfx/interface/icons/situation_log/situation_log_precursor.dds"

	location = no

	event_scope = country_event

	requirements = {
	}

	on_success = {
		if = {
			limit = { is_same_value = from }
			owner = { 	# compatibility code
				random_list = {
					70 = { country_event = { id = anomaly.4136 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
		else = {
			from = {
				random_list = {
					70 = { country_event = { id = anomaly.4136 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
	}
}

# Master's Writings - Politics
special_project = {
	key = "MASTERS_WRITINGS_PHILOSOPHY"
	cost = 1200
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_star_chart
	icon = "gfx/interface/icons/situation_log/situation_log_precursor.dds"

	location = no

	event_scope = country_event

	requirements = {
	}

	on_success = {
		if = {
			limit = { is_same_value = from }
			owner = { 	# compatibility code
				random_list = {
					70 = { country_event = { id = anomaly.4141 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
		else = {
			from = {
				random_list = {
					70 = { country_event = { id = anomaly.4141 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
	}
}

# Master's Writings - Diplomacy
special_project = {
	key = "MASTERS_WRITINGS_DIPLOMACY"
	cost = 1200
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_star_chart
	icon = "gfx/interface/icons/situation_log/situation_log_precursor.dds"

	location = no

	event_scope = country_event

	requirements = {
	}

	on_success = {
		if = {
			limit = { is_same_value = from }
			owner = { 	# compatibility code
				random_list = {
					70 = { country_event = { id = anomaly.4151 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
		else = {
			from = {
				random_list = {
					70 = { country_event = { id = anomaly.4151 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
	}
}

# Master's Writings - War
special_project = {
	key = "MASTERS_WRITINGS_WAR"
	cost = 1200
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_small_space_battle
	icon = "gfx/interface/icons/situation_log/situation_log_precursor.dds"

	location = no

	event_scope = country_event

	requirements = {
	}

	on_success = {
		if = {
			limit = { is_same_value = from }
			owner = { 	# compatibility code
				random_list = {
					70 = { country_event = { id = anomaly.4166 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
		else = {
			from = {
				random_list = {
					70 = { country_event = { id = anomaly.4166 } }
					30 = { country_event = { id = anomaly_failure.4136 } }
				}
			}
		}
	}
}

# Getting into a vault guarded by beasts
special_project = {
	key = "CRYOPOD_FOUND_PROJECT"
	#cost = 0
	days_to_research = 100
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_alien_ruins
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = ship_event

	requirements = {
		shipclass_military = 3
		#shipclass_science_ship = 1
		#leader = commander
		##skill = 2
		#has_trait = leader_trait_trickster
	}

	on_success = {
		random_list = {
			70 = { ship_event = { id = anomaly.4156 } }
			30 = { ship_event = { id = anomaly_failure.4156 } }
		}
	}
}

# Opening up the cryopod
special_project = {
	key = "CRYOPOD_OPENING_PROJECT"
	tech_department = engineering_technology
	cost = 500
	timelimit = -1
	location = no
	picture = GFX_evt_engineering_research
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = planet_event

	requirements = {
	}

	on_success = {
		if = {
			limit = { is_same_value = from }
			owner = {	# compatibility code
				random_list = {
					40 = { country_event = { id = anomaly.4157 } } #pod contains alien general
					30 = { country_event = { id = anomaly_failure.4157 } } #pod contains tech
					30 = { country_event = { id = anomaly_failure.4158 } } #pod contains corpse
				}
			}
		}
		else = {
			from = {
				random_list = {
					40 = { country_event = { id = anomaly.4157 } } #pod contains alien general
					30 = { country_event = { id = anomaly_failure.4157 } } #pod contains tech
					30 = { country_event = { id = anomaly_failure.4158 } } #pod contains corpse
				}
			}
		}
	}
}

# Giant ocean buried ship
special_project = {
	key = "ANCIENT_OCEAN_SHIP"
	cost = 5000
	tech_department = engineering_technology
	timelimit = -1
	location = no
	picture = GFX_evt_ocean
	icon = "gfx/interface/icons/situation_log/situation_log_engineering.dds"

	event_scope = planet_event

	requirements = {
	}

	on_success = {
		root = {
			random_list = {
				50 = { #ship can be used
					planet_event = { id = colony.2006 }
				}
				30 = { #ship can be salvaged
					planet_event = { id = colony.2007 }
				}
				20 = { #ship cannot be salvaged
					modifier = {
						factor = 0
						owner = { is_scavenger = yes }
					}
					planet_event = { id = colony.2008 }
				}
			}
		}
	}
}

special_project = {
	key = "hallucinogen_removal"
	cost = 1500
	tech_department = engineering_technology
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"

	event_scope = planet_event

	on_success = {
		random_list = {
			75 = {
				planet_event = { id = colony_mod.10 }
			}
			25 = {
				planet_event = { id = colony_mod.11 }
			}
		}
	}
}

#special_project = {
#	key = "impact_defence_system"
#	cost = 5000
#	tech_department = engineering_technology
#	picture = GFX_evt_ship_in_orbit
#	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"
#
#	event_scope = planet_event
#
#	on_success = {
#		planet_event = { id = colony_mod.13 }
#	}
#}

#Titanic life study
#This is the default version which has a middling cost and a fairly good chance for a good outcome
special_project = {
	key = "titanic_life_study_normal"
	cost = 3500
	tech_department = society_technology
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"

	event_scope = planet_event

	on_success = {
		random_list = {
			70 = {
				planet_event = { id = colony_mod.101 }
			}
			30 = {
				planet_event = { id = colony_mod.102 }
			}
		}
	}
}

#Titanic life study
#This is the Xenophobe version of the study, which is cheaper but has a worse chance of a good outcome. The event choice leading to this also gives a good planet modifier though
special_project = {
	key = "titanic_life_study_mean"
	cost = 2500
	tech_department = society_technology
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"

	event_scope = planet_event

	on_success = {
		random_list = {
			50 = {
				planet_event = { id = colony_mod.101 }
			}
			50 = {
				planet_event = { id = colony_mod.102 }
			}
		}
	}
}

#Titanic life study
#This is the Xenophile version, which has a higher cost but better chance for good outcome. The event choice leading to this also gives a good planet effect.
special_project = {
	key = "titanic_life_study_nice"
	cost = 5000
	tech_department = society_technology
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"

	event_scope = planet_event

	on_success = {
		random_list = {
			90 = {
				planet_event = { id = colony_mod.101 }
			}
			10 = {
				planet_event = { id = colony_mod.102 }
			}
		}
	}
}

#Magnetic planet study
special_project = {
	key = "MAGNETIC_PLANET_RESEARCH_PROJECT"
	cost = 5000
	tech_department = physics_technology
	picture = GFX_evt_ship_in_orbit
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = colony_mod.18 }
	}
}

# Retaliatory Genome Mapping
special_project = {
	key = "retaliatory_genome_mapping"
	days_to_research = 730
	tech_department = society_technology
	picture = GFX_evt_genetic_modification
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		owner = {
			country_event = { id = diplomatic.14 }
		}
	}
}

# Woodwind Instrument Investigation
special_project = {
	key = "woodwind_instrument_investigation"
	days_to_research = 720
	tech_department = society_technology
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		owner = {
			country_event = { id = diplomatic.20 }
		}
	}
}

special_project = {
	key = "disappearing_pops_project"
	timelimit = 1080
	cost = 1000
	tech_department = society_technology
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = ship_event

	requirements = {
		shipclass_military = 1
	}

	on_success = {
		owner = {
			country_event = { id = utopia.101 }
		}
	}
}
# Ageless
special_project = {
	key = "mystery_cream_project"
	timelimit = 360
	cost = 1000
	tech_department = society_technology
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = country_event

	on_success = {
		if = {
			limit = { is_same_value = from }	# compatibility code
			owner = { country_event = { id = utopia.103 } }
		}
		else = {
			from = { country_event = { id = utopia.103 } }
		}
	}
}
# Cream Origin
special_project = {
	key = "cream_origin_project"
	timelimit = 360
	cost = 2000
	tech_department = society_technology
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = country_event

	on_success = {
		if = {
			limit = { is_same_value = from }	# compatibility code
			owner = { country_event = { id = utopia.104 } }
		}
		else = {
			from = { country_event = { id = utopia.104 } }
		}
	}
}

special_project = {
	key = "ROGUEMOON_PROJECT"
	cost = 1500
	tech_department = society_technology
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = planet_event

	on_success = {
		random_list = {
			90 = { planet_event = { id = colony.3002 days = 10 random = 5 } }
			10 = { planet_event = { id = colony.3003 days = 10 random = 5 } }
		}
	}
}

special_project = {
	key = "DPORTAL_PROJECT"
	cost = 1500
	tech_department = physics_technology
	picture = GFX_evt_wormhole
	icon = "gfx/interface/icons/situation_log/situation_log_physics.dds"

	event_scope = planet_event

	on_success = {
		random_list = {
			10 = { planet_event = { id = colony.3006 days = 10 random = 5 } } #hell
			10 = { planet_event = { id = colony.3007 days = 10 random = 5 } } #energy
			10 = { planet_event = { id = colony.3008 days = 10 random = 5 } } #null void
			10 = { planet_event = { id = colony.3009 days = 10 random = 5 } } #mirror
			5 = {
				modifier = {
					factor = 0
					OR = {
						owner = {
							OR = {
								home_planet = {
									OR = {
										OR = {
											is_artificial = yes
											is_planet_class = pc_city
											is_planet_class = pc_hive
											is_planet_class = pc_machine
											is_planet_class = pc_relic
										}
										owner = {
											NOT = {
												is_same_value = root.owner
											}
										}
									}
								}
								is_ai = yes
								has_origin = origin_synthetic_fertility
							}
						}
						has_global_flag = b_world_intrudes
					}
				}
				planet_event = { id = colony.9800 days = 10 random = 5 } #Negative Mass
			}
		}
	}
}

special_project = {
	key = "DPORTAL_PROJECT_SCIENCE"
	cost = 1500
	tech_department = physics_technology
	picture = GFX_evt_wormhole
	icon = "gfx/interface/icons/situation_log/situation_log_physics.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.3010 }
	}
}

special_project = {
	key = "DPORTAL_PROJECT_PRAYER"
	cost = 1000
	tech_department = society_technology
	picture = GFX_evt_wormhole
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.3011 }
	}
}

special_project = {
	key = "DPORTAL_PROJECT_PSI_PRAYER"
	cost = 750
	tech_department = society_technology
	picture = GFX_evt_wormhole
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.3011 }
	}
}

special_project = {
	key = "DPORTAL_PROJECT_ROCKS"
	cost = 1000
	tech_department = engineering_technology
	picture = GFX_evt_wormhole
	icon = "gfx/interface/icons/situation_log/situation_log_engineering.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.3012 }
	}
}

special_project = {
	key = "MEGACORPSE_ORIGINS"
	cost = 500
	tech_department = society_technology
	picture = GFX_evt_shattered_planet
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = cara.4161 }
	}
}

special_project = {
	key = "NULLVOID_PROJECT"
	cost = 5000
	tech_department = engineering_technology
	picture = GFX_evt_wormhole
	icon = "gfx/interface/icons/situation_log/situation_log_engineering.dds"

	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.3041 }
	}
}

special_project = {
	key = "LIMBO_2_PROJECT"
	cost = 1000
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_sapient_AI
	location = no

	event_scope = country_event

	#requirements = {
		#shipclass_science_ship = 1
		#leader = scientist
		##skill = 3
	#}
	on_success = {
		if = {
			limit = { is_same_value = from }
			owner = {	# compatibility code
				set_country_flag = limbo_uploaded_robots
				# there are colonizeable planets inside and outside borders
				if = {
					limit = {
						NOT = { has_policy_flag = ai_outlawed }
						any_planet_within_border = {
							habitable_planet = yes
							is_colony = no
							has_anomaly = no
							is_capital = no
						}		
						any_system = {
							NOR = {
								exists = space_owner
								has_star_flag = hostile_system
								has_star_flag = guardian
								has_star_flag = enclave
								has_star_flag = primitive_system
							}
							any_system_planet = {
								habitable_planet = yes
								has_owner = no	
								has_anomaly = no
								is_colony = no
								is_capital = no
								NOR = {
									exists = owner
									exists = controller
									has_modifier = "holy_planet"
								}
							} 			
						}
					}
					country_event = { id = anomaly.189 }
				}
				# There are colonizeable planets inside borders only
				else_if = {
					limit = {
						NOT = { has_policy_flag = ai_outlawed }
						any_planet_within_border = {
							habitable_planet = yes
							has_owner = no	
							has_anomaly = no
							is_colony = no
							is_capital = no
							is_under_colonization = no
							NOR = {
								exists = owner
								exists = controller
							}			
						}
					}
					country_event = { id = anomaly.1198 }
				}
				# There are colonizeable planets outside borders only
				else_if = {
					limit = {
						has_technology = tech_droid_workers
						NOT = { has_policy_flag = ai_outlawed }
						any_system = {
							NOR = {
								exists = space_owner
								has_star_flag = hostile_system
								has_star_flag = guardian
								has_star_flag = enclave
								has_star_flag = primitive_system
							}
							any_system_planet = {
								habitable_planet = yes
								has_anomaly = no
								is_colony = no
								is_capital = no
								NOR = {
									exists = owner
									exists = controller
									has_modifier = "holy_planet"
								}
							}	
						}
					}
					country_event = { id = anomaly.1199 }
				}
				# There are no colonizeable planets
				else_if = {
					country_event = { id = anomaly.1190 }
				}
			}
		}
		else = {
			from = {
				set_country_flag = limbo_uploaded_robots
				# there are colonizeable planets inside and outside borders
				if = {
					limit = {
						NOT = { has_policy_flag = ai_outlawed }
						any_planet_within_border = {
							habitable_planet = yes
							is_colony = no
							has_anomaly = no
							is_capital = no
						}		
						any_system = {
							NOR = {
								exists = space_owner
								has_star_flag = hostile_system
								has_star_flag = guardian
								has_star_flag = enclave
								has_star_flag = primitive_system
							}
							any_system_planet = {
								habitable_planet = yes
								has_owner = no	
								has_anomaly = no
								is_colony = no
								is_capital = no
								NOR = {
									exists = owner
									exists = controller
									has_modifier = "holy_planet"
								}
							} 			
						}
					}
					country_event = { id = anomaly.189 }
				}
				# There are colonizeable planets inside borders only
				else_if = {
					limit = {
						NOT = { has_policy_flag = ai_outlawed }
						any_planet_within_border = {
							habitable_planet = yes
							has_owner = no	
							has_anomaly = no
							is_colony = no
							is_capital = no
							is_under_colonization = no
							NOR = {
								exists = owner
								exists = controller
							}			
						}
					}
					country_event = { id = anomaly.1198 }
				}
				# There are colonizeable planets outside borders only
				else_if = {
					limit = {
						has_technology = tech_droid_workers
						NOT = { has_policy_flag = ai_outlawed }
						any_system = {
							NOR = {
								exists = space_owner
								has_star_flag = hostile_system
								has_star_flag = guardian
								has_star_flag = enclave
								has_star_flag = primitive_system
							}
							any_system_planet = {
								habitable_planet = yes
								has_anomaly = no
								is_colony = no
								is_capital = no
								NOR = {
									exists = owner
									exists = controller
									has_modifier = "holy_planet"
								}
							}	
						}
					}
					country_event = { id = anomaly.1199 }
				}
				# There are no colonizeable planets
				else_if = {
					country_event = { id = anomaly.1190 }
				}
			}
		}
	}

	on_fail = { }
}

special_project = {
	key = "CLONE_SOLDIER_FERTILITY"
	cost = 2500
	tech_department = society_technology
	picture = GFX_evt_decryption
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	event_scope = country_event

	on_success = {
		country_event = { id = clones.20 }
	}
}

special_project = {
	key = "REANIMATE_ROCK_BRAIN"
	cost = 10000
	tech_department = society_technology
	picture = GFX_evt_necromancy
	timelimit = 1080

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	abort_trigger = {
		is_reanimator = no
	}

	on_success = {
		ship_event = { id = anomaly.81 }
	}

	on_fail = {
	}
}

special_project = {
	key = "breed_turtle_world_project"
	cost = 2000
	event_chain = nemma_world_chain
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"
	event_scope = planet_event
	on_success = {
		planet_event = { id = colony.9015 }
	}
}

special_project = {
	key = "enslave_turtle_world_project"
	cost = 2000
	event_chain = nemma_world_chain
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"
	event_scope = planet_event
	on_success = {
		planet_event = { id = colony.9030 }
	}
}

special_project = {
	key = "mine_turtle_world_project"
	cost = 2000
	event_chain = nemma_world_chain
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"
	event_scope = planet_event
	on_success = {
		planet_event = { id = colony.9040 }
	}
}

special_project = {
	key = "kill_turtle_world_project"
	days_to_research = 180
	event_chain = nemma_world_chain
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"
	event_scope = planet_event
	on_success = {
		planet_event = { id = colony.9045 }
	}
}

special_project = {
	key = "study_turtle_world_project"
	days_to_research = 180
	event_chain = nemma_world_chain
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_alien_planet
	icon = "gfx/interface/icons/situation_log/situation_log_scanning_beam.dds"
	event_scope = planet_event
	on_success = {
		planet_event = { id = colony.9010 }
	}
}

special_project = {
	key = "STUDY_NANITE_SWARM"
	days_to_research = 300
	event_chain = parvus_III_chain
	tech_department = physics_technology
	timelimit = -1
	picture = "GFX_evt_gray_goo"
	icon ="gfx/interface/icons/situation_log/situation_log_ai.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}
	on_success = {
		ship_event = { id = anomaly.6705 }
		owner = { set_country_flag = machine_age_nanites_studied } # Familiarity with nanites gained for Machine Ascension
	}
}

special_project = {
	key = "DESTROY_SWARM"
	days_to_research = 300
	tech_department = physics_technology
	event_chain = parvus_III_chain
	timelimit = -1
	picture = "GFX_evt_gray_goo"
	icon = "gfx/interface/icons/situation_log/situation_log_ai.dds"

	event_scope = ship_event

	requirements = {
		fleet_power >= 2000
	}
	on_success = {
		ship_event = { id = anomaly.6720 }
	}
}

special_project = {
	key = "TAME_THE_SWARM"
	days_to_research = 300
	event_chain = parvus_III_chain
	timelimit = -1
	picture = "GFX_evt_gray_goo"
	icon = "gfx/interface/icons/situation_log/situation_log_ai.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}
	on_success = {
		ship_event = { id = anomaly.6715 }
	}
	desc = {
		trigger = { owner.capital_scope = { is_artificial = yes }  }
		text = TAME_THE_SWARM_DESC_ARTIFICIAL
	}
	desc = {
		trigger = { owner.capital_scope = { is_artificial = no }  }
		text = TAME_THE_SWARM_DESC
	}
}

special_project = {
	key = "CLONE_SOLDIER_UNLOCK_FERTILITY"
	event_chain = "clone_fertility_chain"
	cost = 2000
	tech_department = society_technology
	picture = GFX_evt_galactic_community
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	same_option_group_as = { CLONE_SOLDIER_UNLOCK_POTENTIAL }

	event_scope = country_event

	on_success = {
		country_event = { id = clones.22 }
		owner = { end_event_chain = "clone_fertility_chain" }
	}
}

special_project = {
	key = "CLONE_SOLDIER_UNLOCK_POTENTIAL"
	event_chain = "clone_fertility_chain"
	cost = 2000
	tech_department = society_technology
	picture = GFX_evt_gladiators
	icon = "gfx/interface/icons/situation_log/situation_log_society.dds"

	same_option_group_as = { CLONE_SOLDIER_UNLOCK_FERTILITY }

	event_scope = country_event

	on_success = {
		country_event = { id = clones.23 }
		owner = { end_event_chain = "clone_fertility_chain" }
	}
}

#FOLLOWING_FUNGI
special_project = {
	key = "FOLLOWING_FUNGI_PROJECT"
	cost = 0
	days_to_research = 360
	tech_department = society_technology
	picture = GFX_evt_landing_ship

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		random_list = {
			80 = {
				modifier = {
					factor = 0
					owner = {
						OR = {
							has_global_flag = fumongus_resolved
							has_global_flag = fumongus_active
							has_global_flag = fumongus_dismantled
						}
					}
				}
				ship_event = { id = anomaly.6770 }
			}
			20 = { ship_event = { id = anomaly.6780 } }
		}
	}

	on_fail = {
	}
}


#MUSHROOMING_NETWORK
special_project = {
	key = "MUSHROOMING_NETWORK_PROJECT"
	cost = 2000
	tech_department = society_technology
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	picture = GFX_evt_alien_nature

	event_scope = country_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		country_event = { id = anomaly.6785 }
	}

	on_fail = {
	}
}

#ORIGIN DRAGON MATERIAL STUDY
special_project = {
	key = "DRAGON_MATERIAL_STUDY"
	days_to_research = 90
	tech_department = society_technology
	icon = "gfx/interface/icons/situation_log/situation_log_space_creature.dds"
	picture = GFX_evt_here_be_dragons

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	abort_trigger = {
		has_non_hostile_origin_dragon_trigger = no
	}

	on_success = {
		random_list = {
			2 = {
				ship_event = { id = aquatics.200 } #fail (ship destroyed)
				modifier = {
					factor = 4
					owner = {
						has_country_flag = dragon_displeased
					}
				}
				modifier = {
					factor = 0
					owner = {
						has_country_flag = dragon_materials_attempted
					}
				}
			}
			4 = {
				ship_event = { id = aquatics.205 } #fail (no consequences)
				modifier = {
					factor = 0
					owner = {
						has_country_flag = dragon_materials_attempted
					}
				}
			}
			3 = { #generally higher chance of success second time. You'll probably succeed if you pleased the dragon before
				ship_event = { id = aquatics.210 } #fail (planet damaged)
				modifier = {
					factor = 0
					NOT = {
						owner = {
							has_country_flag = dragon_materials_attempted
						}
					}
				}
				modifier = {
					factor = 0.33
					owner = {
						has_country_flag = dragon_pleased
					}
				}
			}
			1 = {
				ship_event = { id = aquatics.215 } #success
				modifier = {
					factor = 2
					owner = {
						has_country_flag = dragon_pleased
					}
				}
				modifier = {
					factor = 0.5
					owner = {
						has_country_flag = dragon_displeased
					}
				}
			}
		}
	}
}

#ORIGIN DRAGON REMOTE SCAN
special_project = {
	key = "DRAGON_REMOTE_SCANS"
	days_to_research = 90
	tech_department = society_technology
	icon = "gfx/interface/icons/situation_log/situation_log_space_creature.dds"
	picture = GFX_evt_here_be_dragons

	event_scope = ship_event

	abort_trigger = {
		has_non_hostile_origin_dragon_trigger = no
	}

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		ship_event = { id = aquatics.195 }
	}

	on_fail = {
	}
}


special_project = {
	key = "ENLIGHTEN_RADIO"
	cost = 5000
	tech_department = society_technology
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	picture = GFX_evt_tomb_world

	event_scope = country_event

	on_success = {
		country_event = { id = terra.85 }
	}

	on_fail = {
	}
}

special_project = {
	key = "GAS_RESTORATION"
	cost = 2000
	tech_department = physics_technology
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	picture = GFX_evt_gas_giant

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		ship_event = { id = anomaly.6850 }
	}

	on_fail = {
	}
}

special_project = {
	key = "RESCUE_STORM"
	days_to_research = 180
	tech_department = physics_technology
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	picture = GFX_evt_gas_giant

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 2
		leader = scientist
	}

	on_success = {
		ship_event = { id = anomaly.6860 }
	}

	on_fail = {
	}
}

special_project = {
	key = "STUDY_SLEEPING_CRYSTAL"
	days_to_research = 720
	tech_department = physics_technology
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	picture = GFX_evt_hive

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		ship_event = { id = anomaly.6890 }
	}

	on_fail = {
	}
}

special_project = {
	key = "GIGANTIC_SKELETON_RESURRECTION_PROJECT"
	cost = 0
	days_to_research = 360
	tech_department = physics_technology
	picture = GFX_evt_junkheap

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		ship_event = { id = anomaly.2523 }
	}

	on_fail = {
	}
}

special_project = {
	key = SNEK_SCIENCE_PROJECT
	cost = 1000
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_alien_nature
	icon = "gfx/interface/icons/situation_log/situation_log_tick.dds"
	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.9101 }
		set_planet_flag = snake_peace
	}
}

special_project = {
	key = SNEK_WAR_PROJECT
	cost = 1000
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_alien_nature
	icon = "gfx/interface/icons/situation_log/situation_log_tick.dds"
	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.9102 }
		set_planet_flag = snake_war
	}
}

special_project = {
	key = "CRACK_THE_EGG"
	days_to_research = 720
	tech_department = society_technology
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	picture = GFX_evt_hive

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		random_list = {
			90 = { ship_event = { id = anomaly.6910 } }
			10 = { ship_event = { id = anomaly.6915 } }
		}

	}

	on_fail = {
	}
}

special_project = {
	key = "GHOST_SHIP_PROJECT"
	cost = 0
	days_to_research = 360
	tech_department = physics_technology
	picture = GFX_evt_mining_station

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		ship_event = { id = anomaly.6792 }
	}
}

special_project = {
	key = "GHOST_SHIP_PROJECT_02"
	cost = 2000
	tech_department = physics_technology
	picture = GFX_evt_mining_station

	event_scope = country_event

	on_success = {
		country_event = { id = anomaly.6794 }
	}
}

special_project = {
	key = "TIYANKI_LURE"
	event_chain = "tiyanki_graveyard_chain"
	days_to_research = 180
	tech_department = engineering_technology
	icon = "gfx/interface/icons/situation_log/situation_log_quest.dds"
	picture = GFX_evt_atmospheric_flight
	location = yes

	event_scope = ship_event

	requirements = {
		shipclass_constructor = 1
	}

	on_success = {
		owner = { country_event = { id = galactic_features.389 } }
	}

	on_fail = {
	}

	abort_trigger = {
		owner = {
			OR = {
				has_global_flag = tiyanki_graveyard_access
				has_global_flag = tiyanki_extinct
			}
		}
	}
}

special_project = {
	key = "PROJECT_MACHINE_UPRISING_PATCH"
	cost = 30000
	tech_department = physics_technology
	picture = GFX_evt_robot_assembly_plant
	icon = "gfx/interface/icons/situation_log/situation_log_ai.dds"
	event_chain = "machine_uprising_chain"

	event_scope = country_event

	on_success = {
		country_event = { id = syndaw.550 }	# Patch systems.
	}
}

special_project = {
	key = "PROJECT_MACHINE_UPRISING_WIPE"
	cost = 10000
	tech_department = physics_technology
	picture = GFX_evt_robot_assembly_plant
	icon = "gfx/interface/icons/situation_log/situation_log_ai.dds"
	event_chain = "machine_uprising_chain"

	same_option_group_as = { PROJECT_MACHINE_UPRISING_PATCH }	# Can't do both.

	event_scope = country_event

	on_success = {
		country_event = { id = syndaw.555 }	# Wipe systems.
	}
}

special_project = {
	key = "RELENTLESS_INDUSTRIALISTS_STUDY_PROJECT"
	cost = 10000
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_ancient_databank
	icon = "gfx/interface/icons/situation_log/situation_log_tick.dds"
	event_scope = country_event

	abort_trigger = {
		NOT = { has_policy_flag = relentless_industrialists_study }
	}

	on_success = {
		country_event = { id = toxoids.45 }
	}
}

special_project = {
	key = "ANCIENT_MANUFACTORIUM_PROJECT"
	cost = 2000
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_ancient_databank
	icon = "gfx/interface/icons/situation_log/situation_log_tick.dds"
	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.9251 }
	}
}

special_project = {
	key = "DATA_DIAMOND_PROJECT"
	cost = 1000
	tech_department = physics_technology
	timelimit = -1
	picture = GFX_evt_surreal_visions
	icon = "gfx/interface/icons/situation_log/situation_log_tick.dds"
	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	on_success = {
		from  = {
			ship_event = { id = anomaly.3150 }
		}
	}
}

special_project = {
	key = "STASIS_PRISON_PROJECT"
	days_to_research = 180
	tech_department = physics_technology
	timelimit = -1
	picture = GFX_evt_physics_research
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"

	event_scope = ship_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
		#skill = 3
	}

	on_success = {
		from = { planet_event = { id = colony.9910 } }
	}
}

special_project = {
	key = "orbital_cleanup"
	cost = 1500
	tech_department = engineering_technology
	timelimit = 720
	picture = GFX_evt_space_debris
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"
	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.9320 }
	}
	on_fail = {
		from = { planet_event = { id = colony.9325 } }
	}
}

special_project = {
	key = "orbital_cleanup_intense"
	cost = 3000
	tech_department = engineering_technology
	timelimit = 720
	picture = GFX_evt_space_debris
	icon = "gfx/interface/icons/situation_log/situation_log_debris.dds"
	event_scope = planet_event

	on_success = {
		planet_event = { id = colony.9335 }
	}
	on_fail = {
		from = { planet_event = { id = colony.9325 } }
	}
}

special_project = {
	key = "MYRMEKU_STUDY_PROJECT"
	event_chain = "myrmeku_chain"
	cost = 2000
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_infested
	icon = "gfx/interface/icons/situation_log/situation_log_tick.dds"
	event_scope = planet_event

	abort_trigger = {
		event_target:myrmeku_planet = {
			OR = {
				is_planet_class = pc_nuked
				is_planet_class = pc_broken
				NAND = {
					exists = owner
					owner = {
						has_country_flag = myrmeku_flag@prev
					}
				}
			}
		}
	}
	on_success = {
		planet_event = { id = colony.9380 }
	}
}

special_project = {
	key = "STRATOVENTS_PROJECT"
	event_chain = stratovent_world_chain
	cost = 1200
	tech_department = engineering_technology
	timelimit = -1
	picture = GFX_evt_alien_nature
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	event_scope = planet_event
	on_success = {
		planet_event = { id = colony.9955 }
	}
}

special_project = {
	key = "MELTING_RESEARCH_PROJECT"
	cost = 1000
	tech_department = physics_technology
	timelimit = 720
	picture = GFX_evt_outpost
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	event_scope = planet_event

	abort_trigger = {
		event_target:flooding_planet = {
			NOR = {
				is_planet_class = pc_arctic
				is_planet_class = pc_tundra
				is_planet_class = pc_alpine
			}
		}
	}

	on_success = {
		planet_event = { id = colony.7235 }
	}
	on_fail = {
		from = { planet_event = { id = colony.7245 } }
	}
}

special_project = {
	key = "PLANET_MELTDOWN_PROJECT"
	cost = 1500
	tech_department = physics_technology
	timelimit = -1
	picture = GFX_evt_physics_research
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	event_scope = planet_event

	abort_trigger = {
		event_target:flooding_planet = {
			NOR = {
				is_planet_class = pc_arctic
				is_planet_class = pc_tundra
				is_planet_class = pc_alpine
			}
		}
	}

	on_success = {
		planet_event = { id = colony.7260 }
	}
}

special_project = {
	key = "RAPID_DESERTIFICATION_PROJECT"
	days_to_research = 80
	tech_department = society_technology
	timelimit = 1080
	picture = GFX_evt_animal_wildlife
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	event_scope = country_event

	abort_trigger = {
		event_target:desertling_planet = {
			NOT = { has_modifier = alien_infestation }
			OR = {
				is_planet_class = pc_nuked
				is_planet_class = pc_broken
			}
		}
	}
	on_success = {
		country_event = { id = anomaly.7140 }
	}
	on_fail = {
		country_event = { id = anomaly.7146 }
	}
}

special_project = {
	key = "POPULATION_CONTROL_PROJECT"
	days_to_research = 180
	tech_department = society_technology
	timelimit = -1
	picture = GFX_evt_genetic_modification
	icon = "gfx/interface/icons/situation_log/situation_log_planet.dds"
	event_scope = country_event

	requirements = {
		shipclass_science_ship = 1
		leader = scientist
	}

	abort_trigger = {
		event_target:desertling_planet = {
			NOT = { has_modifier = alien_infestation }
			OR = {
			is_planet_class = pc_nuked
			is_planet_class = pc_broken
			}
		}
	}
	on_success = {
		country_event = { id = anomaly.7150 }
	}
}
